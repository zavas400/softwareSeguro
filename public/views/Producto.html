<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Total Sport</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="/assets/styles/base_template.css">
    <link rel="stylesheet" href="/assets/styles/index_styles.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script> 
    <script src="https://code.jquery.com/jquery-3.7.1.js" integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>    
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/handlebars@latest/dist/handlebars.js"></script>
    <script src="/assets/scripts/base_script.js"></script>
  </head>
<body class="d-flex flex-column">
    <!-- Include Navbar -->
    <div id="contenido-navbar"></div>
    <div id="page-content">
      <script id="header-template" type="text/x-handlebars-template">
        <div class="container row mx-auto">
            <!-- <h3 class="pt-2">{{nombre}}</h3>
            <p><Strong>$ {{precio}} mxn</Strong></p> -->
            <section class="col-12 col-lg-6">
                <div class="product-corrousell py-3">
                    <div id="carouselExampleControls" class="carousel slide" data-bs-ride="carousel">
                        <div class="carousel-inner">
                            <div class="carousel-item active">
                                <img src="/assets/uploads/{{imagen}}" class="d-block w-100 rounded" alt="...">
                            </div>
                            <div class="carousel-item">
                                <img src="/assets/uploads/{{imagen}}" class="d-block w-100 rounded" alt="...">
                            </div>
                            <div class="carousel-item">
                                <img src="/assets/uploads/{{imagen}}" class="d-block w-100 rounded" alt="...">
                            </div>
                        </div>
                        <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="prev">
                            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                            <span class="visually-hidden">Previous</span>
                        </button>
                        <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="next">
                            <span class="carousel-control-next-icon" aria-hidden="true"></span>
                            <span class="visually-hidden">Next</span>
                        </button>
                    </div>
                </div>
            </section>
            <section class="col-12 col-lg-5">
                <div class="sizes col-12 ">
                  <br><br><h3 class="pt-2">{{nombre}}</h3>
                  <p><Strong>$ {{precio}} mxn</Strong></p>
                  <p><strong>En stock </strong></p>
                  <p id="stockText">{{stock}}</p>
                  <p><strong>Descripcion del Producto</strong></p>
                  <p>{{descripcion}}</p>
                  <p><strong>Tallas disponibles</strong></p>
                    {{#each talla}}
                    <button class="btn col-4 border my-2 talla">{{this}}</button>
                    {{/each}}                    
                </div>

                <div class="col-12">
                  <form action="/cart/addProductToCart" method="POST">
                    <button class="btn btn-primary my-2  px-0 col-6 addCart " id="btnAgregarCarrito">Agregar al carrito</button>
                    <button class="btn btn-secondary my-2 px-0 col-5 buy" id="btnFinalizarCompra">Finalizar compra</button>
                    <input type="hidden" id="productId" name="productId" value="{{id2}}">
                    <input type="hidden" id="userId" name="userId" value="">
                    <input type="hidden"  name="talla" value="{{this}}">
                  </form>
                  <!-- <script src="/assets/scripts/getToken.js"></script> -->
                  <script>
                    function getCookie(name) {
                      const cookies = document.cookie.split(';');
                      for (const cookie of cookies) {
                          const [cookieName, cookieValue] = cookie.trim().split('=');
                          if (cookieName === name) {
                              return decodeURIComponent(cookieValue);
                          }
                      }
                      return null;
                    }
                    const token = getCookie('token');
                    const base64Url = token.split(".")[1];
                    const base64 = base64Url.replace("-", "+").replace("_", "/");
                    const userId = JSON.parse(window.atob(base64))._id;
                    document.getElementById('userId').value = userId;
                    
                  </script>
                </div>
            </section>
            <section class="col-12 py-3">
                <div class="accordion accordion-flush" id="accordionFlushExample">
                    <div class="accordion-item">
                      <h2 class="accordion-header" id="flush-headingOne">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseOne" aria-expanded="false" aria-controls="flush-collapseOne">
                        FAQ
                        </button>
                      </h2>
                      <div id="flush-collapseOne" class="accordion-collapse collapse" aria-labelledby="flush-headingOne" data-bs-parent="#accordionFlushExample">
                        <div class="accordion-body">
                            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Vero voluptatum atque laudantium! Corrupti quas ex modi ea sequi iste, eligendi necessitatibus pariatur laudantium incidunt animi cumque omnis! Enim repudiandae pariatur quam obcaecati magnam nulla cupiditate esse autem nemo tempora commodi odio ut voluptate reprehenderit laborum eaque, aliquam sunt nisi minus!</p>
                        </div>
                      </div>
                    </div>
                    <div class="accordion-item">
                      <h2 class="accordion-header" id="flush-headingTwo">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseTwo" aria-expanded="false" aria-controls="flush-collapseTwo">
                        ¿Por qué es para ti?
                        </button>
                      </h2>
                      <div id="flush-collapseTwo" class="accordion-collapse collapse" aria-labelledby="flush-headingTwo" data-bs-parent="#accordionFlushExample">
                        <div class="for-you accordion-body">
                          <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Facere temporibus deleniti delectus soluta quos nisi! Illo quibusdam aliquid beatae laboriosam natus officia iste autem, dolore doloremque, animi illum ipsa quia aperiam voluptatibus doloribus maiores praesentium, ratione est cupiditate quos corrupti! Repellat ea temporibus, similique repellendus saepe culpa tempore ad nobis.</p>
                        </div>
                      </div>
                    </div>
                    <div class="accordion-item">
                      <h2 class="accordion-header" id="flush-headingThree">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseThree" aria-expanded="false" aria-controls="flush-collapseThree">
                        Politicas de cambio o devolución
                        </button>
                      </h2>
                      <div id="flush-collapseThree" class="accordion-collapse collapse" aria-labelledby="flush-headingThree" data-bs-parent="#accordionFlushExample">
                        <div class="accordion-body">
                            Lorem ipsum dolor sit amet consectetur adipisicing elit. Sequi, eligendi velit totam ut veniam quaerat doloremque explicabo earum dolorem molestias beatae placeat autem, iusto quibusdam doloribus eius maxime nisi? Modi culpa hic est, doloremque dolores, omnis perspiciatis sunt tempore voluptatibus, nesciunt adipisci officia quasi iste quisquam? Sed nobis similique maiores.
                        </div>
                      </div>
                    </div>
                  </div>
            </section>
        </div>
    </div>
    <!-- Include Footer -->

    

    <div id="contenido-footer"></div>
    <script src="/assets/scripts/searchBar.js"></script>
    <script src="/assets/scripts/bloquearSinStock.js"></script>
    <script src="/assets/scripts/addCart.js"></script>
</body>
</html>



